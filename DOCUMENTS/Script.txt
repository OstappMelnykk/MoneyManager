CREATE DATABASE moneymanager




CREATE TABLE Users (
    users_ID serial PRIMARY KEY,
    users_name varchar(255) NOT NULL,
    users_phonenumber varchar(40) NOT NULL,
    users_password varchar(255) NOT NULL,
    users_email varchar(255) NOT NULL,
    users_photo bytea
);

CREATE TABLE Accounts (
    accounts_ID serial PRIMARY KEY,
    accounts_title varchar(255) NOT NULL,
    accounts_view int NOT NULL,
    fk_users_ID int REFERENCES users (users_ID)
);

CREATE TABLE Goals (
    goals_ID serial PRIMARY KEY,
    goals_title varchar(255) NOT NULL,
    goals_description text,
    goals_AmountToCollect decimal(18, 2) NOT NULL,
    fk_accounts_ID int REFERENCES accounts (accounts_ID)
);

CREATE TABLE Transactions (
    transactions_ID serial PRIMARY KEY,
    transactions_type int CHECK (type IN (1, 2, 3)),
    transactions_FromAccountID int REFERENCES accounts (accounts_ID),
    transactions_ToAccountID int REFERENCES accounts (accounts_ID),
    transactions_description text,
    transactions_sum decimal(18, 2) NOT NULL,
    transactions_date date DEFAULT current_date
);


